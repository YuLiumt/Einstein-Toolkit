<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Yu Liu">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Code - Yu Liu's Notebook</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Code";
    var mkdocs_page_input_path = "ET/Code.md";
    var mkdocs_page_url = "/Einstein-Toolkit/ET/Code/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-36723568-3', 'https://yuliumt.github.io');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Yu Liu's Notebook</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Einstein Toolkit</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../Install/">Install</a>
                </li>
                <li class="">
                    
    <a class="" href="../Cactus/">Cactus</a>
                </li>
                <li class="">
                    
    <a class="" href="../Thorn/">Thorn</a>
                </li>
                <li class="">
                    
    <a class="" href="../Source File/">Source File</a>
                </li>
                <li class="">
                    
    <a class="" href="../parameter/">Parameter</a>
                </li>
                <li class="">
                    
    <a class="" href="../Lorene/">Lorene</a>
                </li>
                <li class="">
                    
    <a class="" href="../Visualization/">Visualization</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">General Relativity</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../GR/Differential geometry/">Differential geometry</a>
                </li>
                <li class="">
                    
    <a class="" href="../../GR/Einstein Equation/">Einstein Equation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../GR/Solutions/">Solutions</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Gravitational Wave</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../GW/Introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../GW/Linearized Waves/">Linearized Waves</a>
                </li>
                <li class="">
                    
    <a class="" href="../../GW/Extracting Gravitational Waveforms/">Extracting Gravitational Waveforms</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Numerical Relativity</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../NR/Introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../NR/3+1 Decomposition/">3+1 Decomposition</a>
                </li>
                <li class="">
                    
    <a class="" href="../../NR/ADM/">ADM</a>
                </li>
                <li class="">
                    
    <a class="" href="../../NR/BSSN/">BSSN</a>
                </li>
                <li class="">
                    
    <a class="" href="../../NR/MHD/">MHD</a>
                </li>
                <li class="">
                    
    <a class="" href="../../NR/Conformal Transformation/">Conformal Transformation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../NR/Coordinates/">Coordinates</a>
                </li>
                <li class="">
                    
    <a class="" href="../../NR/Matter Sources/">Matter Sources</a>
                </li>
                <li class="">
                    
    <a class="" href="../../NR/Numerical Methods/">Numerical Methods</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Search Pipeline</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../SP/Introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../SP/matched filter/">Matched Filtering</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Example</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../Example/Poisson/">Poisson</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Yu Liu's Notebook</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>Code</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/YuLiumt/Einstein-Toolkit/edit/master/docs/ET/Code.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h3 id="partial-differential-equation-pde">Partial Differential Equation (PDE)</h3>
<h4 id="summationbyparts">SummationByParts</h4>
<h5 id="interface">interface</h5>
<p>In order to use the derivative routines the appropriate declarations have to be added to your thorns <code class="codehilite">interface.ccl</code> ﬁle. To use the interface that works on whole grid functions you have to add:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>SUBROUTINE Diff_gv ( CCTK_POINTER_TO_CONST IN cctkGH, \  
                     CCTK_INT IN dir, \  
                     CCTK_REAL IN ARRAY var, \  
                     CCTK_REAL OUT ARRAY dvar, \  
                     CCTK_INT IN table_handle )  
USES FUNCTION Diff_gv
</pre></div>
</td></tr></table>

<table>
<thead>
<tr>
<th>Name</th>
<th>Describe</th>
</tr>
</thead>
<tbody>
<tr>
<td>cctkGH</td>
<td>the cactus GH</td>
</tr>
<tr>
<td>dir</td>
<td>the direction of the derivative (0 for x, 1 for y and 2 for z)</td>
</tr>
<tr>
<td>var</td>
<td>the grid function to calculate derivatives.</td>
</tr>
<tr>
<td>dvar</td>
<td>the grid function where the derivative is to be stored</td>
</tr>
<tr>
<td>table_handle</td>
<td>an integer that contains a handle for a keyword table with optional parameters. If there are no optional parameters just pass in a negative value.</td>
</tr>
</tbody>
</table>
<p>To use the interface that returns the ﬁnite difference coefficients you have to add:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>SUBROUTINE Diff_coeff ( CCTK_POINTER_TO_CONST IN cctkGH, \  
                        CCTK_INT IN dir, \  
                        CCTK_INT IN nsize, \  
                        CCTK_INT OUT ARRAY imin, \  
                        CCTK_INT OUT ARRAY imax, \  
                        CCTK_REAL OUT ARRAY q, \  
                        CCTK_INT IN table_handle )
</pre></div>
</td></tr></table>

<table>
<thead>
<tr>
<th>Name</th>
<th>Describe</th>
</tr>
</thead>
<tbody>
<tr>
<td>cctkGH</td>
<td>the cactus GH</td>
</tr>
<tr>
<td>dir</td>
<td>the direction of the derivative (0 for x, 1 for y and 2 for z)</td>
</tr>
<tr>
<td>nsize</td>
<td>the grid size in the direction you are interested in</td>
</tr>
<tr>
<td>imin and imax</td>
<td>the minimum and maximum index of the stencil in direction dir</td>
</tr>
<tr>
<td>q</td>
<td>a 2D real array of size <code class="codehilite">nsize×nsize</code> that on return will contain the coefficients for the derivatives.</td>
</tr>
<tr>
<td>table_handle</td>
<td>an integer that contains a handle for a keyword table with optional parameters. If there are no optional parameters just pass in a negative value.</td>
</tr>
</tbody>
</table>
<h3 id="initial-data">Initial data</h3>
<h4 id="admmacros">ADMMacros</h4>
<h5 id="source-file">Source File</h5>
<ul>
<li><code class="codehilite">&lt;MACRONAME&gt;_declare.h</code></li>
</ul>
<p>sets up the declarations for the internal macro variables. All the internal (hidden) variables have names beginning with the macro name. This ﬁle should be included in the declarations section of your routine.</p>
<ul>
<li><code class="codehilite">&lt;MACRONAME&gt;_guts.h</code></li>
</ul>
<p>is the actual included source code which will calculate the quantities.</p>
<ul>
<li><code class="codehilite">&lt;MACRONAME&gt;_undefine.h</code></li>
</ul>
<p>resets the macros. This ﬁle must be #included at the end of every loop using macros. Without this, a second loop using macros would assume that quantities have already been calculated (and thus get wrong results).</p>
<p>Note that all ADMMacro include files are in the directory EinsteinBase/ADMMacros/src/macro/, so you include the macros with lines such as</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;EinsteinBase/ADMMacros/src/macro/&lt;MACRONAME&gt;_&lt;TYPE&gt;.h&quot;</span><span class="cp"></span>
</pre></div>
</td></tr></table>

<h3 id="analysis">Analysis</h3>
<h4 id="staticconformal">StaticConformal</h4>
<h5 id="interface_1">interface</h5>
<p><code class="codehilite">StaticConformal</code> provides aliased functions to convert between physical and conformal 3-metric values.</p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/YuLiumt/Einstein-Toolkit/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
